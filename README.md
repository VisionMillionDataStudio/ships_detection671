# èˆ¹èˆ¶æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunmasj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://kdocs.cn/l/cszuIiCKVNis)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€å…¨çƒè´¸æ˜“çš„è¿…é€Ÿå‘å±•ï¼Œæµ·æ´‹è¿è¾“ä½œä¸ºå›½é™…ç‰©æµçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…¶æ•ˆç‡å’Œå®‰å…¨æ€§æ„ˆå‘å—åˆ°é‡è§†ã€‚èˆ¹èˆ¶ä½œä¸ºæµ·æ´‹è¿è¾“çš„ä¸»è¦è½½ä½“ï¼Œå…¶ç§ç±»ç¹å¤šï¼Œæ¶µç›–äº†æ•£è´§èˆ¹ã€é›†è£…ç®±èˆ¹ã€æ¸”èˆ¹ã€ä¸€èˆ¬è´§èˆ¹ã€çŸ¿çŸ³èˆ¹å’Œå®¢èˆ¹ç­‰å¤šç§ç±»å‹ã€‚æœ‰æ•ˆçš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿä¸ä»…èƒ½å¤Ÿæé«˜æ¸¯å£ç®¡ç†çš„æ•ˆç‡ï¼Œè¿˜èƒ½åœ¨æµ·æ´‹å®‰å…¨ã€ç¯å¢ƒä¿æŠ¤ç­‰æ–¹é¢å‘æŒ¥é‡è¦ä½œç”¨ã€‚å› æ­¤ï¼Œå¼€å‘ä¸€ç§é«˜æ•ˆã€å‡†ç¡®çš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿå…·æœ‰é‡è¦çš„ç†è®ºä»·å€¼å’Œå®é™…æ„ä¹‰ã€‚

åœ¨èˆ¹èˆ¶æ£€æµ‹é¢†åŸŸï¼Œè®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„è¿…çŒ›å‘å±•ä¸ºå®ç°è‡ªåŠ¨åŒ–æ£€æµ‹æä¾›äº†æ–°çš„å¯èƒ½æ€§ã€‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶å¿«é€Ÿçš„æ£€æµ‹é€Ÿåº¦å’Œè¾ƒé«˜çš„å‡†ç¡®ç‡ï¼Œå·²æˆä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸»æµæ–¹æ³•ã€‚å°¤å…¶æ˜¯YOLOv8ï¼Œä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿›ä¸€æ­¥æå‡äº†æ¨¡å‹çš„æ€§èƒ½ï¼Œé€‚åº”äº†æ›´å¤æ‚çš„æ£€æµ‹åœºæ™¯ã€‚ç„¶è€Œï¼Œç°æœ‰çš„YOLOv8æ¨¡å‹åœ¨ç‰¹å®šåº”ç”¨åœºæ™¯ä¸‹ä»å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤šç±»åˆ«èˆ¹èˆ¶çš„æ£€æµ‹ä»»åŠ¡ä¸­ï¼Œå¦‚ä½•æé«˜æ¨¡å‹å¯¹ä¸åŒèˆ¹èˆ¶ç±»å‹çš„è¯†åˆ«ç²¾åº¦å’Œé²æ£’æ€§ï¼Œä»ç„¶æ˜¯ä¸€ä¸ªäºŸå¾…è§£å†³çš„é—®é¢˜ã€‚

æœ¬ç ”ç©¶æ—¨åœ¨åŸºäºæ”¹è¿›çš„YOLOv8æ¨¡å‹ï¼Œæ„å»ºä¸€ä¸ªé«˜æ•ˆçš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿã€‚æˆ‘ä»¬ä½¿ç”¨çš„èˆ¹èˆ¶æ£€æµ‹æ•°æ®é›†åŒ…å«5800å¼ å›¾åƒï¼Œæ¶µç›–äº†12ä¸ªç±»åˆ«ï¼ŒåŒ…æ‹¬æ•£è´§èˆ¹ã€é›†è£…ç®±èˆ¹ã€æ¸”èˆ¹ã€ä¸€èˆ¬è´§èˆ¹ã€çŸ¿çŸ³èˆ¹å’Œå®¢èˆ¹ç­‰ã€‚è¿™äº›æ•°æ®çš„å¤šæ ·æ€§å’Œä¸°å¯Œæ€§ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ä¸åŒçš„æµ·æ´‹ç¯å¢ƒä¸­è¿›è¡Œæœ‰æ•ˆçš„èˆ¹èˆ¶è¯†åˆ«ã€‚é€šè¿‡å¯¹æ•°æ®é›†çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å°†æ¢ç´¢ä¸åŒèˆ¹èˆ¶ç±»å‹çš„ç‰¹å¾å·®å¼‚ï¼Œå¹¶é’ˆå¯¹æ€§åœ°è°ƒæ•´YOLOv8æ¨¡å‹çš„ç»“æ„å’Œå‚æ•°ï¼Œä»¥æå‡å…¶åœ¨å¤šç±»åˆ«æ£€æµ‹ä¸­çš„è¡¨ç°ã€‚

æ­¤å¤–ï¼Œéšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæ¨¡å‹çš„å¯è§£é‡Šæ€§å’Œå¯è¿ç§»æ€§ä¹Ÿæˆä¸ºç ”ç©¶çš„çƒ­ç‚¹ã€‚æˆ‘ä»¬å°†ç»“åˆè¿ç§»å­¦ä¹ å’Œæ•°æ®å¢å¼ºç­‰æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥æå‡æ¨¡å‹åœ¨å°æ ·æœ¬æƒ…å†µä¸‹çš„å­¦ä¹ èƒ½åŠ›ã€‚è¿™ä¸ä»…èƒ½å¤Ÿæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜èƒ½ä¸ºå®é™…åº”ç”¨æä¾›æ›´ä¸ºå¯é çš„æŠ€æœ¯æ”¯æŒã€‚

æœ¬ç ”ç©¶çš„æ„ä¹‰ä¸ä»…åœ¨äºæå‡èˆ¹èˆ¶æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ï¼Œæ›´åœ¨äºä¸ºæ¸¯å£ç®¡ç†ã€æµ·æ´‹å®‰å…¨ç›‘æµ‹ç­‰é¢†åŸŸæä¾›ä¸€ç§å¯è¡Œçš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡æ„å»ºé«˜æ•ˆçš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¸ºæµ·æ´‹è¿è¾“çš„æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–å‘å±•è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚æ­¤å¤–ï¼Œæœ¬ç ”ç©¶çš„æˆæœä¹Ÿå°†ä¸ºåç»­ç›¸å…³é¢†åŸŸçš„ç ”ç©¶æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨æ›´å¤šå®é™…åº”ç”¨ä¸­çš„è½åœ°ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶ï¼Œä¸ä»…å…·æœ‰é‡è¦çš„å­¦æœ¯ä»·å€¼ï¼Œä¹Ÿå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚é€šè¿‡æœ¬ç ”ç©¶ï¼Œæˆ‘ä»¬æœŸå¾…èƒ½å¤Ÿä¸ºèˆ¹èˆ¶æ£€æµ‹æŠ€æœ¯çš„å‘å±•æä¾›æ–°çš„æ€è·¯å’Œæ–¹æ³•ï¼Œä¸ºæµ·æ´‹è¿è¾“çš„å®‰å…¨ä¸é«˜æ•ˆè´¡çŒ®åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1dLsYeuEhV/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 12
names: ['0', '1', '2', '3', '4', '5', 'bulk cargo carrier', 'container ship', 'fishing boat', 'general cargo ship', 'ore carrier', 'passenger ship']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åä¸ºâ€œships_detectionâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¹è¿›YOLOv8çš„èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿã€‚è¯¥æ•°æ®é›†ä¸“é—¨é’ˆå¯¹æµ·æ´‹ç¯å¢ƒä¸­çš„å„ç§èˆ¹èˆ¶ç±»å‹è¿›è¡Œäº†ç²¾å¿ƒè®¾è®¡ï¼Œæ—¨åœ¨æå‡è‡ªåŠ¨åŒ–æ£€æµ‹çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚æ•°æ®é›†åŒ…å«12ä¸ªç±»åˆ«ï¼Œæ¶µç›–äº†ä»è´§èˆ¹åˆ°å®¢èˆ¹çš„å¤šç§èˆ¹èˆ¶ç±»å‹ï¼Œå…·ä½“ç±»åˆ«åŒ…æ‹¬ï¼šæ•£è´§èˆ¹ã€é›†è£…ç®±èˆ¹ã€æ¸”èˆ¹ã€ä¸€èˆ¬è´§èˆ¹ã€çŸ¿çŸ³è¿è¾“èˆ¹å’Œå®¢èˆ¹ç­‰ã€‚è¿™äº›ç±»åˆ«çš„å¤šæ ·æ€§ä¸ä»…åæ˜ äº†æµ·æ´‹è¿è¾“çš„å¤æ‚æ€§ï¼Œä¹Ÿä¸ºè®­ç»ƒæ¨¡å‹æä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œç¡®ä¿å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„å¹¿æ³›é€‚ç”¨æ€§ã€‚

â€œships_detectionâ€æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ç»è¿‡äº†ä¸¥æ ¼çš„ç­›é€‰å’Œæ ‡æ³¨ï¼Œç¡®ä¿æ¯ä¸€å¼ å›¾åƒéƒ½å‡†ç¡®åœ°åæ˜ äº†èˆ¹èˆ¶çš„çœŸå®ç‰¹å¾ã€‚æ•°æ®é›†ä¸­çš„å›¾åƒæ¥æºäºä¸åŒçš„æµ·åŸŸå’Œæ°”å€™æ¡ä»¶ï¼Œæ¶µç›–äº†ç™½å¤©å’Œå¤œæ™šçš„å¤šç§åœºæ™¯ã€‚è¿™ç§å¤šæ ·æ€§ä½¿å¾—æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿå­¦ä¹ åˆ°ä¸åŒç¯å¢ƒä¸‹èˆ¹èˆ¶çš„è§†è§‰ç‰¹å¾ï¼Œä»è€Œæé«˜å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„é²æ£’æ€§ã€‚æ•°æ®é›†çš„æ ‡æ³¨å·¥ä½œç”±ç»éªŒä¸°å¯Œçš„æµ·æ´‹å·¥ç¨‹å¸ˆå’Œè®¡ç®—æœºè§†è§‰ä¸“å®¶å…±åŒå®Œæˆï¼Œç¡®ä¿äº†æ ‡æ³¨çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚

åœ¨ç±»åˆ«åˆ’åˆ†ä¸Šï¼Œæ•°æ®é›†ä¸ä»…åŒ…æ‹¬äº†å¸¸è§çš„èˆ¹èˆ¶ç±»å‹ï¼Œå¦‚é›†è£…ç®±èˆ¹å’Œæ•£è´§èˆ¹ï¼Œè¿˜æ¶µç›–äº†ç‰¹å®šç”¨é€”çš„èˆ¹èˆ¶ï¼Œå¦‚æ¸”èˆ¹å’ŒçŸ¿çŸ³è¿è¾“èˆ¹ã€‚è¿™ç§ç»†è‡´çš„åˆ†ç±»æœ‰åŠ©äºæ¨¡å‹åœ¨è¿›è¡Œèˆ¹èˆ¶æ£€æµ‹æ—¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°è¯†åˆ«å’ŒåŒºåˆ†ä¸åŒç±»å‹çš„èˆ¹èˆ¶ï¼Œè¿›è€Œæé«˜æ£€æµ‹çš„ç²¾åº¦å’Œå¬å›ç‡ã€‚å°¤å…¶æ˜¯åœ¨å¤æ‚çš„æµ·æ´‹ç¯å¢ƒä¸­ï¼Œèˆ¹èˆ¶çš„å¤–è§‚å’Œå°ºå¯¸å¯èƒ½ä¼šå› è§†è§’å’Œå…‰ç…§æ¡ä»¶çš„å˜åŒ–è€Œæœ‰æ‰€ä¸åŒï¼Œå› æ­¤ï¼Œä¸°å¯Œçš„ç±»åˆ«ä¿¡æ¯å¯¹äºæ¨¡å‹çš„å­¦ä¹ è‡³å…³é‡è¦ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†çš„è§„æ¨¡å’Œæ ·æœ¬æ•°é‡ä¹Ÿä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†åšå®çš„åŸºç¡€ã€‚é€šè¿‡å¯¹å¤§é‡å›¾åƒçš„è®­ç»ƒï¼ŒYOLOv8èƒ½å¤Ÿæœ‰æ•ˆåœ°å­¦ä¹ åˆ°èˆ¹èˆ¶çš„ç‰¹å¾ï¼Œå¹¶åœ¨å®æ—¶æ£€æµ‹ä¸­è¡¨ç°å‡ºè‰²ã€‚æ•°æ®é›†ä¸­çš„å›¾åƒç»è¿‡ç²¾å¿ƒæŒ‘é€‰ï¼Œç¡®ä¿äº†æ¯ä¸ªç±»åˆ«éƒ½æœ‰è¶³å¤Ÿçš„æ ·æœ¬é‡ï¼Œä»¥é¿å…æ¨¡å‹åœ¨æŸäº›ç±»åˆ«ä¸Šå‡ºç°è¿‡æ‹Ÿåˆæˆ–æ¬ æ‹Ÿåˆçš„æƒ…å†µã€‚è¿™ç§å¹³è¡¡çš„æ ·æœ¬åˆ†å¸ƒä½¿å¾—æ¨¡å‹åœ¨é¢å¯¹å„ç§èˆ¹èˆ¶æ—¶ï¼Œèƒ½å¤Ÿä¿æŒé«˜æ•ˆçš„æ£€æµ‹èƒ½åŠ›ã€‚

åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ”¹è¿›åçš„YOLOv8èˆ¹èˆ¶æ£€æµ‹ç³»ç»Ÿå°†èƒ½å¤Ÿåœ¨æµ·æ´‹ç›‘æµ‹ã€èˆªè¿å®‰å…¨å’Œç¯å¢ƒä¿æŠ¤ç­‰é¢†åŸŸå‘æŒ¥é‡è¦ä½œç”¨ã€‚é€šè¿‡å¯¹â€œships_detectionâ€æ•°æ®é›†çš„æ·±å…¥ç ”ç©¶å’Œåˆ†æï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿè¿›ä¸€æ­¥æå‡èˆ¹èˆ¶æ£€æµ‹çš„å‡†ç¡®æ€§å’Œå®æ—¶æ€§ï¼Œä¸ºæµ·æ´‹é¢†åŸŸçš„æ™ºèƒ½åŒ–å‘å±•è´¡çŒ®åŠ›é‡ã€‚æ€»ä¹‹ï¼Œæ•°æ®é›†â€œships_detectionâ€ä¸ä»…ä¸ºæœ¬ç ”ç©¶æä¾›äº†ä¸°å¯Œçš„è®­ç»ƒç´ æï¼Œä¹Ÿä¸ºæœªæ¥çš„èˆ¹èˆ¶æ£€æµ‹æŠ€æœ¯çš„å‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ç®—æ³•æ˜¯Ultralyticså…¬å¸åœ¨2023å¹´æ¨å‡ºçš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œå®ƒåœ¨å‰å‡ ä»£YOLOç³»åˆ—çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ˜¾è‘—çš„æ”¹è¿›å’Œåˆ›æ–°ï¼Œæ—¨åœ¨æå‡ç›®æ ‡æ£€æµ‹çš„é€Ÿåº¦å’Œç²¾åº¦ã€‚YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—çš„æ ¸å¿ƒç†å¿µæ˜¯å°†ç›®æ ‡æ£€æµ‹ä»»åŠ¡è½¬åŒ–ä¸ºä¸€ä¸ªå›å½’é—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸ªå•ä¸€çš„ç¥ç»ç½‘ç»œæ¨¡å‹åŒæ—¶é¢„æµ‹ç›®æ ‡çš„ä½ç½®å’Œç±»åˆ«ã€‚è¿™ç§ä¸€é˜¶æ®µçš„æ£€æµ‹æ–¹å¼ä½¿å¾—YOLOç³»åˆ—åœ¨å®æ—¶æ€§æ–¹é¢è¡¨ç°ä¼˜å¼‚ï¼Œå°¤å…¶é€‚åˆéœ€è¦å¿«é€Ÿå“åº”çš„åº”ç”¨åœºæ™¯ã€‚

YOLOv8çš„ç½‘ç»œç»“æ„ä¸»è¦ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šä¸»å¹²ç½‘ç»œï¼ˆBackboneï¼‰ã€ç‰¹å¾å¢å¼ºç½‘ç»œï¼ˆNeckï¼‰å’Œæ£€æµ‹å¤´ï¼ˆHeadï¼‰ã€‚åœ¨ä¸»å¹²ç½‘ç»œæ–¹é¢ï¼ŒYOLOv8å»¶ç»­äº†CSPNetçš„è®¾è®¡æ€æƒ³ï¼Œä½†å°†YOLOv5ä¸­çš„C3æ¨¡å—æ›¿æ¢ä¸ºC2Fæ¨¡å—ã€‚C2Fæ¨¡å—é€šè¿‡å¼•å…¥æ›´å¤šçš„å¹¶è¡Œæ¢¯åº¦æµåˆ†æ”¯ï¼Œèƒ½å¤Ÿåœ¨ä¿æŒæ¨¡å‹è½»é‡åŒ–çš„åŒæ—¶ï¼Œè·å¾—æ›´ä¸°å¯Œçš„æ¢¯åº¦ä¿¡æ¯ã€‚è¿™ç§è®¾è®¡ä¸ä»…æå‡äº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ï¼Œè¿˜æœ‰æ•ˆé™ä½äº†è®¡ç®—å»¶è¿Ÿï¼Œä½¿å¾—YOLOv8åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶è¡¨ç°å¾—æ›´åŠ å‡ºè‰²ã€‚

åœ¨ç‰¹å¾å¢å¼ºç½‘ç»œéƒ¨åˆ†ï¼ŒYOLOv8é‡‡ç”¨äº†PAN-FPNçš„æ€æƒ³ï¼Œæ—¨åœ¨é€šè¿‡å¤šå±‚æ¬¡çš„ç‰¹å¾èåˆï¼Œæå‡æ¨¡å‹å¯¹ä¸åŒå°ºåº¦ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ã€‚ä¸YOLOv5ç›¸æ¯”ï¼ŒYOLOv8åœ¨Neckéƒ¨åˆ†å»é™¤äº†å¤šä½™çš„å·ç§¯è¿æ¥å±‚ï¼Œç›´æ¥å¯¹ä¸»å¹²ç½‘ç»œä¸åŒé˜¶æ®µè¾“å‡ºçš„ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·ï¼Œè¿™ç§ç®€åŒ–è®¾è®¡ä¸ä»…æé«˜äº†ç‰¹å¾ä¼ é€’çš„æ•ˆç‡ï¼Œè¿˜å‡å°‘äº†æ¨¡å‹çš„å¤æ‚æ€§ã€‚

YOLOv8åœ¨æ£€æµ‹å¤´çš„è®¾è®¡ä¸Šè¿›è¡Œäº†é‡å¤§å˜é©ï¼Œä»è€¦åˆå¤´ï¼ˆCoupled-Headï¼‰è½¬å˜ä¸ºè§£è€¦å¤´ï¼ˆDecoupled-Headï¼‰ã€‚åœ¨ä¼ ç»Ÿçš„è€¦åˆå¤´ä¸­ï¼Œæ£€æµ‹å’Œåˆ†ç±»ä»»åŠ¡å…±äº«åŒä¸€ä¸ªå·ç§¯å±‚ï¼Œè¿™ç§è®¾è®¡åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¯¼è‡´ä»»åŠ¡ä¹‹é—´çš„å¹²æ‰°ã€‚è€ŒYOLOv8é€šè¿‡å°†åˆ†ç±»å’Œå›å½’åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„åˆ†æ”¯ï¼Œä½¿å¾—æ¯ä¸ªä»»åŠ¡èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºè‡ªèº«çš„ç‰¹å¾æå–ï¼Œä»è€Œæœ‰æ•ˆæé«˜äº†å®šä½ç²¾åº¦å’Œåˆ†ç±»å‡†ç¡®ç‡ã€‚æ­¤å¤–ï¼ŒYOLOv8é‡‡ç”¨äº†Anchor-freeçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿçš„åŸºäºé”šæ¡†çš„è®¾è®¡ã€‚è¿™ä¸€åˆ›æ–°ä½¿å¾—æ¨¡å‹ä¸å†ä¾èµ–äºé¢„è®¾çš„é”šæ¡†ï¼Œä»è€Œç®€åŒ–äº†è®­ç»ƒè¿‡ç¨‹ï¼Œå¹¶æé«˜äº†å¯¹ä¸åŒå°ºåº¦å’Œå½¢çŠ¶ç›®æ ‡çš„é€‚åº”èƒ½åŠ›ã€‚

åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šï¼ŒYOLOv8ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ã€‚å®ƒåœ¨åˆ†ç±»åˆ†æ”¯ä¸­ä½¿ç”¨äº†äºŒå€¼äº¤å‰ç†µæŸå¤±ï¼ˆBCELossï¼‰ï¼Œè€Œåœ¨è¾¹ç•Œæ¡†å›å½’åˆ†æ”¯ä¸­åˆ™é‡‡ç”¨äº†åˆ†å¸ƒç„¦ç‚¹æŸå¤±ï¼ˆDFLï¼‰å’ŒCIoUæŸå¤±ã€‚è¿™ç§ç»„åˆæ—¨åœ¨ä½¿ç½‘ç»œæ›´å¿«åœ°èšç„¦äºæ ‡ç­¾é™„è¿‘çš„åŒºåŸŸï¼Œæé«˜é¢„æµ‹çš„å‡†ç¡®æ€§ã€‚åŒæ—¶ï¼ŒYOLOv8å¼•å…¥äº†ä»»åŠ¡å¯¹é½å­¦ä¹ ï¼ˆTask Alignment Learningï¼‰ï¼Œé€šè¿‡å¼•å…¥åˆ†ç±»åˆ†æ•°å’ŒIoUçš„é«˜æ¬¡å¹‚ä¹˜ç§¯ä½œä¸ºè¡¡é‡ä»»åŠ¡å¯¹é½ç¨‹åº¦çš„æŒ‡æ ‡ï¼Œè¿›ä¸€æ­¥æå‡äº†æ¨¡å‹åœ¨å¤æ‚åœºæ™¯ä¸‹çš„è¡¨ç°ã€‚

åœ¨è¾“å…¥å¤„ç†æ–¹é¢ï¼ŒYOLOv8é‡‡ç”¨äº†è‡ªé€‚åº”å›¾ç‰‡ç¼©æ”¾æŠ€æœ¯ï¼Œä»¥æé«˜ç›®æ ‡æ£€æµ‹å’Œæ¨ç†çš„é€Ÿåº¦ã€‚é»˜è®¤çš„è¾“å…¥å›¾åƒå°ºå¯¸ä¸º640x640ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒYOLOv8èƒ½å¤Ÿæ ¹æ®å›¾åƒçš„é•¿å®½æ¯”è¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼Œå°½é‡å‡å°‘ä¿¡æ¯å†—ä½™ã€‚æ­¤å¤–ï¼ŒYOLOv8åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨äº†Mosaicæ•°æ®å¢å¼ºæŠ€æœ¯ï¼Œä»¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›ï¼Œä½†åœ¨è®­ç»ƒçš„æœ€åé˜¶æ®µä¼šåœæ­¢ä½¿ç”¨Mosaicå¢å¼ºï¼Œä»¥é¿å…å¯¹æ•°æ®çœŸå®åˆ†å¸ƒçš„å¹²æ‰°ã€‚

é€šè¿‡è¿™äº›åˆ›æ–°å’Œæ”¹è¿›ï¼ŒYOLOv8åœ¨COCOæ•°æ®é›†ä¸Šçš„è¡¨ç°å¾—åˆ°äº†æ˜¾è‘—æå‡ã€‚ä¸ä¹‹å‰çš„YOLOç³»åˆ—æ¨¡å‹ç›¸æ¯”ï¼ŒYOLOv8åœ¨æ£€æµ‹ç²¾åº¦å’Œæ¨ç†é€Ÿåº¦ä¸Šéƒ½è¡¨ç°å‡ºè‰²ï¼Œå°¤å…¶é€‚åˆäºå®æ—¶ç›®æ ‡æ£€æµ‹çš„åº”ç”¨åœºæ™¯ã€‚å…¶è½»é‡åŒ–çš„æ¨¡å‹ç»“æ„ä½¿å¾—YOLOv8èƒ½å¤Ÿåœ¨åµŒå…¥å¼è®¾å¤‡ä¸Šé«˜æ•ˆè¿è¡Œï¼Œæ»¡è¶³äº†å¯¹å®æ—¶æ€§å’Œå‡†ç¡®æ€§çš„åŒé‡éœ€æ±‚ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒYOLOv8ä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå‡­å€Ÿå…¶å¿«é€Ÿã€é«˜æ•ˆçš„æ€§èƒ½å’Œçµæ´»çš„ç½‘ç»œç»“æ„ï¼Œæˆä¸ºäº†ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ã€‚å®ƒä¸ä»…ç»§æ‰¿äº†YOLOç³»åˆ—çš„ä¼˜è‰¯ä¼ ç»Ÿï¼Œè¿˜é€šè¿‡ä¸€ç³»åˆ—åˆ›æ–°è®¾è®¡ï¼Œè¿›ä¸€æ­¥æå‡äº†ç›®æ ‡æ£€æµ‹çš„èƒ½åŠ›ï¼Œå±•ç°äº†åœ¨å®é™…åº”ç”¨ä¸­çš„å¹¿æ³›å‰æ™¯ã€‚éšç€YOLOv8çš„ä¸æ–­å‘å±•å’Œä¼˜åŒ–ï¼Œæœªæ¥åœ¨æ›´å¤šå¤æ‚åœºæ™¯ä¸‹çš„åº”ç”¨å°†ä¼šæ›´åŠ å¹¿æ³›ï¼Œä¸ºç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„è¿›æ­¥æä¾›äº†æ–°çš„åŠ¨åŠ›ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\models\nas\model.py

ä»¥ä¸‹æ˜¯å¯¹ç»™å®šä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œæç‚¼å’Œè¯¦ç»†æ³¨é‡Šçš„ç»“æœï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
"""
YOLO-NASæ¨¡å‹æ¥å£ã€‚

ç¤ºä¾‹ï¼š
    ```python
    from ultralytics import NAS

    model = NAS('yolo_nas_s')
    results = model.predict('ultralytics/assets/bus.jpg')
    ```
"""

from pathlib import Path
import torch
from ultralytics.engine.model import Model
from ultralytics.utils.torch_utils import model_info, smart_inference_mode
from .predict import NASPredictor
from .val import NASValidator

class NAS(Model):
    """
    YOLO NASæ¨¡å‹ç”¨äºç›®æ ‡æ£€æµ‹ã€‚

    è¯¥ç±»æä¾›YOLO-NASæ¨¡å‹çš„æ¥å£ï¼Œå¹¶æ‰©å±•äº†Ultralyticså¼•æ“ä¸­çš„`Model`ç±»ã€‚
    å®ƒæ—¨åœ¨é€šè¿‡é¢„è®­ç»ƒæˆ–è‡ªå®šä¹‰è®­ç»ƒçš„YOLO-NASæ¨¡å‹æ¥ç®€åŒ–ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚

    å±æ€§ï¼š
        model (str): é¢„è®­ç»ƒæ¨¡å‹çš„è·¯å¾„æˆ–æ¨¡å‹åç§°ã€‚é»˜è®¤ä¸º'yolo_nas_s.pt'ã€‚

    æ³¨æ„ï¼š
        YOLO-NASæ¨¡å‹ä»…æ”¯æŒé¢„è®­ç»ƒæ¨¡å‹ã€‚è¯·å‹¿æä¾›YAMLé…ç½®æ–‡ä»¶ã€‚
    """

    def __init__(self, model="yolo_nas_s.pt") -> None:
        """ä½¿ç”¨æä¾›çš„æˆ–é»˜è®¤çš„'yolo_nas_s.pt'æ¨¡å‹åˆå§‹åŒ–NASæ¨¡å‹ã€‚"""
        # ç¡®ä¿æä¾›çš„æ¨¡å‹æ–‡ä»¶ä¸æ˜¯YAMLæ ¼å¼
        assert Path(model).suffix not in (".yaml", ".yml"), "YOLO-NASæ¨¡å‹ä»…æ”¯æŒé¢„è®­ç»ƒæ¨¡å‹ã€‚"
        # è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•
        super().__init__(model, task="detect")

    @smart_inference_mode()
    def _load(self, weights: str, task: str):
        """åŠ è½½ç°æœ‰çš„NASæ¨¡å‹æƒé‡ï¼Œæˆ–å¦‚æœæœªæä¾›ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„NASæ¨¡å‹å¹¶ä½¿ç”¨é¢„è®­ç»ƒæƒé‡ã€‚"""
        import super_gradients

        suffix = Path(weights).suffix
        # æ ¹æ®æƒé‡æ–‡ä»¶çš„åç¼€åŠ è½½æ¨¡å‹
        if suffix == ".pt":
            self.model = torch.load(weights)  # ä».ptæ–‡ä»¶åŠ è½½æ¨¡å‹
        elif suffix == "":
            self.model = super_gradients.training.models.get(weights, pretrained_weights="coco")  # è·å–é¢„è®­ç»ƒæ¨¡å‹
        
        # æ ‡å‡†åŒ–æ¨¡å‹å±æ€§
        self.model.fuse = lambda verbose=True: self.model  # èåˆæ¨¡å‹çš„æ–¹æ³•
        self.model.stride = torch.tensor([32])  # è®¾ç½®æ¨¡å‹çš„æ­¥å¹…
        self.model.names = dict(enumerate(self.model._class_names))  # è®¾ç½®ç±»åˆ«åç§°
        self.model.is_fused = lambda: False  # è¿”å›æ¨¡å‹æ˜¯å¦å·²èåˆ
        self.model.yaml = {}  # ç”¨äºä¿¡æ¯æ˜¾ç¤º
        self.model.pt_path = weights  # ç”¨äºå¯¼å‡ºæ¨¡å‹çš„è·¯å¾„
        self.model.task = "detect"  # è®¾ç½®æ¨¡å‹ä»»åŠ¡ä¸ºæ£€æµ‹

    def info(self, detailed=False, verbose=True):
        """
        è®°å½•æ¨¡å‹ä¿¡æ¯ã€‚

        å‚æ•°ï¼š
            detailed (bool): æ˜¯å¦æ˜¾ç¤ºæ¨¡å‹çš„è¯¦ç»†ä¿¡æ¯ã€‚
            verbose (bool): æ§åˆ¶è¾“å‡ºçš„è¯¦ç»†ç¨‹åº¦ã€‚
        """
        return model_info(self.model, detailed=detailed, verbose=verbose, imgsz=640)

    @property
    def task_map(self):
        """è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå°†ä»»åŠ¡æ˜ å°„åˆ°ç›¸åº”çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ã€‚"""
        return {"detect": {"predictor": NASPredictor, "validator": NASValidator}}
```

### ä»£ç åˆ†æ
1. **ç±»å®šä¹‰**ï¼š`NAS`ç±»ç»§æ‰¿è‡ª`Model`ç±»ï¼Œä¸“é—¨ç”¨äºYOLO-NASæ¨¡å‹çš„ç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šåœ¨`__init__`æ–¹æ³•ä¸­ï¼Œç¡®ä¿æ¨¡å‹æ–‡ä»¶ä¸æ˜¯YAMLæ ¼å¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
3. **åŠ è½½æ¨¡å‹**ï¼š`_load`æ–¹æ³•è´Ÿè´£åŠ è½½æ¨¡å‹æƒé‡ï¼Œå¯ä»¥ä»`.pt`æ–‡ä»¶æˆ–é€šè¿‡`super_gradients`åº“è·å–é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¹¶è¿›è¡Œæ ‡å‡†åŒ–è®¾ç½®ã€‚
4. **æ¨¡å‹ä¿¡æ¯**ï¼š`info`æ–¹æ³•ç”¨äºè®°å½•å’Œè¿”å›æ¨¡å‹çš„è¯¦ç»†ä¿¡æ¯ã€‚
5. **ä»»åŠ¡æ˜ å°„**ï¼š`task_map`å±æ€§è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œæ˜ å°„æ£€æµ‹ä»»åŠ¡åˆ°ç›¸åº”çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†å’Œæ³¨é‡Šæä¾›äº†å¯¹YOLO-NASæ¨¡å‹æ¥å£çš„æ¸…æ™°ç†è§£ï¼Œä¾¿äºåç»­çš„ä½¿ç”¨å’Œæ‰©å±•ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLO-NASæ¨¡å‹çš„æ¥å£å®ç°ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡ã€‚æ–‡ä»¶ä¸­é¦–å…ˆå¼•å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬`Path`ã€`torch`ä»¥åŠUltralyticså¼•æ“ä¸­çš„ä¸€äº›æ¨¡å—ã€‚æ–‡ä»¶çš„å¼€å¤´åŒ…å«äº†ä¸€ä¸ªç®€çŸ­çš„è¯´æ˜ï¼Œä»‹ç»äº†å¦‚ä½•ä½¿ç”¨YOLO-NASæ¨¡å‹è¿›è¡Œé¢„æµ‹çš„ç¤ºä¾‹ã€‚

æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º`NAS`çš„ç±»ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª`Model`ç±»ã€‚`NAS`ç±»çš„æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°`model`ï¼Œé»˜è®¤å€¼ä¸º`yolo_nas_s.pt`ï¼Œç”¨äºæŒ‡å®šé¢„è®­ç»ƒæ¨¡å‹çš„è·¯å¾„ã€‚æ„é€ å‡½æ•°ä¸­æœ‰ä¸€ä¸ªæ–­è¨€ï¼Œç¡®ä¿ä¼ å…¥çš„æ¨¡å‹æ–‡ä»¶åç¼€ä¸æ˜¯`.yaml`æˆ–`.yml`ï¼Œå› ä¸ºYOLO-NASæ¨¡å‹åªæ”¯æŒé¢„è®­ç»ƒæ¨¡å‹ï¼Œè€Œä¸æ”¯æŒYAMLé…ç½®æ–‡ä»¶ã€‚

åœ¨`_load`æ–¹æ³•ä¸­ï¼Œæ¨¡å‹çš„æƒé‡è¢«åŠ è½½ã€‚å¦‚æœä¼ å…¥çš„æƒé‡æ–‡ä»¶åç¼€æ˜¯`.pt`ï¼Œåˆ™ç›´æ¥ä½¿ç”¨`torch.load`åŠ è½½æ¨¡å‹ï¼›å¦‚æœæ²¡æœ‰åç¼€ï¼Œåˆ™ä½¿ç”¨`super_gradients`åº“è·å–é¢„è®­ç»ƒæ¨¡å‹ã€‚æ­¤æ–¹æ³•è¿˜å¯¹æ¨¡å‹è¿›è¡Œäº†ä¸€äº›æ ‡å‡†åŒ–å¤„ç†ï¼Œä¾‹å¦‚è®¾ç½®æ¨¡å‹çš„æ­¥å¹…ã€ç±»åˆ«åç§°ç­‰ã€‚

`info`æ–¹æ³•ç”¨äºè®°å½•æ¨¡å‹çš„ä¿¡æ¯ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯å’Œæ§åˆ¶è¾“å‡ºçš„å†—é•¿ç¨‹åº¦ã€‚å®ƒè°ƒç”¨äº†`model_info`å‡½æ•°æ¥è·å–æ¨¡å‹çš„ç›¸å…³ä¿¡æ¯ã€‚

æœ€åï¼Œ`task_map`å±æ€§è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå°†ä»»åŠ¡æ˜ å°„åˆ°ç›¸åº”çš„é¢„æµ‹å™¨å’ŒéªŒè¯å™¨ç±»ï¼Œè¿™é‡Œä¸»è¦æ”¯æŒç›®æ ‡æ£€æµ‹ä»»åŠ¡ï¼Œåˆ†åˆ«å¯¹åº”`NASPredictor`å’Œ`NASValidator`ç±»ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸ºYOLO-NASæ¨¡å‹æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„æ¥å£ï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°åŠ è½½æ¨¡å‹ã€è¿›è¡Œé¢„æµ‹ä»¥åŠè·å–æ¨¡å‹ä¿¡æ¯ã€‚

#### 11.2 code\ultralytics\utils\triton.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“
from typing import List
from urllib.parse import urlsplit
import numpy as np

class TritonRemoteModel:
    """
    ä¸è¿œç¨‹Tritonæ¨ç†æœåŠ¡å™¨æ¨¡å‹äº¤äº’çš„å®¢æˆ·ç«¯ã€‚

    å±æ€§:
        endpoint (str): TritonæœåŠ¡å™¨ä¸Šæ¨¡å‹çš„åç§°ã€‚
        url (str): TritonæœåŠ¡å™¨çš„URLã€‚
        triton_client: Tritonå®¢æˆ·ç«¯ï¼ˆHTTPæˆ–gRPCï¼‰ã€‚
        InferInput: Tritonå®¢æˆ·ç«¯çš„è¾“å…¥ç±»ã€‚
        InferRequestedOutput: Tritonå®¢æˆ·ç«¯çš„è¾“å‡ºè¯·æ±‚ç±»ã€‚
        input_formats (List[str]): æ¨¡å‹è¾“å…¥çš„æ•°æ®ç±»å‹ã€‚
        np_input_formats (List[type]): æ¨¡å‹è¾“å…¥çš„numpyæ•°æ®ç±»å‹ã€‚
        input_names (List[str]): æ¨¡å‹è¾“å…¥çš„åç§°ã€‚
        output_names (List[str]): æ¨¡å‹è¾“å‡ºçš„åç§°ã€‚
    """

    def __init__(self, url: str, endpoint: str = "", scheme: str = ""):
        """
        åˆå§‹åŒ–TritonRemoteModelã€‚

        å‚æ•°å¯ä»¥å•ç‹¬æä¾›æˆ–ä»ä»¥ä¸‹æ ¼å¼çš„'url'å‚æ•°ä¸­è§£æï¼š
            <scheme>://<netloc>/<endpoint>/<task_name>

        å‚æ•°:
            url (str): TritonæœåŠ¡å™¨çš„URLã€‚
            endpoint (str): TritonæœåŠ¡å™¨ä¸Šæ¨¡å‹çš„åç§°ã€‚
            scheme (str): é€šä¿¡æ–¹æ¡ˆï¼ˆ'http'æˆ–'gRPC'ï¼‰ã€‚
        """
        # å¦‚æœæ²¡æœ‰æä¾›endpointå’Œschemeï¼Œåˆ™ä»URLä¸­è§£æ
        if not endpoint and not scheme:
            splits = urlsplit(url)
            endpoint = splits.path.strip("/").split("/")[0]  # æå–æ¨¡å‹åç§°
            scheme = splits.scheme  # æå–é€šä¿¡æ–¹æ¡ˆ
            url = splits.netloc  # æå–æœåŠ¡å™¨åœ°å€

        self.endpoint = endpoint  # è®¾ç½®æ¨¡å‹åç§°
        self.url = url  # è®¾ç½®æœåŠ¡å™¨URL

        # æ ¹æ®é€šä¿¡æ–¹æ¡ˆé€‰æ‹©Tritonå®¢æˆ·ç«¯
        if scheme == "http":
            import tritonclient.http as client  # å¯¼å…¥HTTPå®¢æˆ·ç«¯
            self.triton_client = client.InferenceServerClient(url=self.url, verbose=False, ssl=False)
            config = self.triton_client.get_model_config(endpoint)  # è·å–æ¨¡å‹é…ç½®
        else:
            import tritonclient.grpc as client  # å¯¼å…¥gRPCå®¢æˆ·ç«¯
            self.triton_client = client.InferenceServerClient(url=self.url, verbose=False, ssl=False)
            config = self.triton_client.get_model_config(endpoint, as_json=True)["config"]  # è·å–æ¨¡å‹é…ç½®

        # æŒ‰å­—æ¯é¡ºåºæ’åºè¾“å‡ºåç§°
        config["output"] = sorted(config["output"], key=lambda x: x.get("name"))

        # å®šä¹‰æ¨¡å‹å±æ€§
        type_map = {"TYPE_FP32": np.float32, "TYPE_FP16": np.float16, "TYPE_UINT8": np.uint8}
        self.InferRequestedOutput = client.InferRequestedOutput  # è®¾ç½®è¾“å‡ºè¯·æ±‚ç±»
        self.InferInput = client.InferInput  # è®¾ç½®è¾“å…¥ç±»
        self.input_formats = [x["data_type"] for x in config["input"]]  # è·å–è¾“å…¥æ•°æ®ç±»å‹
        self.np_input_formats = [type_map[x] for x in self.input_formats]  # è·å–numpyæ•°æ®ç±»å‹
        self.input_names = [x["name"] for x in config["input"]]  # è·å–è¾“å…¥åç§°
        self.output_names = [x["name"] for x in config["output"]]  # è·å–è¾“å‡ºåç§°

    def __call__(self, *inputs: np.ndarray) -> List[np.ndarray]:
        """
        ä½¿ç”¨ç»™å®šçš„è¾“å…¥è°ƒç”¨æ¨¡å‹ã€‚

        å‚æ•°:
            *inputs (List[np.ndarray]): æ¨¡å‹çš„è¾“å…¥æ•°æ®ã€‚

        è¿”å›:
            List[np.ndarray]: æ¨¡å‹çš„è¾“å‡ºã€‚
        """
        infer_inputs = []  # å­˜å‚¨æ¨ç†è¾“å…¥
        input_format = inputs[0].dtype  # è·å–è¾“å…¥æ•°æ®ç±»å‹
        for i, x in enumerate(inputs):
            # å¦‚æœè¾“å…¥æ•°æ®ç±»å‹ä¸æ¨¡å‹è¦æ±‚ä¸ç¬¦ï¼Œåˆ™è½¬æ¢æ•°æ®ç±»å‹
            if x.dtype != self.np_input_formats[i]:
                x = x.astype(self.np_input_formats[i])
            # åˆ›å»ºInferInputå¯¹è±¡å¹¶è®¾ç½®æ•°æ®
            infer_input = self.InferInput(self.input_names[i], [*x.shape], self.input_formats[i].replace("TYPE_", ""))
            infer_input.set_data_from_numpy(x)
            infer_inputs.append(infer_input)  # æ·»åŠ åˆ°æ¨ç†è¾“å…¥åˆ—è¡¨

        # åˆ›å»ºè¾“å‡ºè¯·æ±‚
        infer_outputs = [self.InferRequestedOutput(output_name) for output_name in self.output_names]
        # è°ƒç”¨Tritonå®¢æˆ·ç«¯è¿›è¡Œæ¨ç†
        outputs = self.triton_client.infer(model_name=self.endpoint, inputs=infer_inputs, outputs=infer_outputs)

        # è¿”å›è¾“å‡ºç»“æœï¼Œè½¬æ¢ä¸ºåŸå§‹è¾“å…¥æ•°æ®ç±»å‹
        return [outputs.as_numpy(output_name).astype(input_format) for output_name in self.output_names]
```

### ä»£ç è¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`TritonRemoteModel`ç±»ç”¨äºä¸Tritonæ¨ç†æœåŠ¡å™¨çš„æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼š`__init__`æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„URLã€åç§°å’Œé€šä¿¡æ–¹æ¡ˆï¼Œå¹¶æ ¹æ®è¿™äº›ä¿¡æ¯åˆå§‹åŒ–Tritonå®¢æˆ·ç«¯ã€‚
3. **è¾“å…¥è¾“å‡ºå¤„ç†**ï¼š`__call__`æ–¹æ³•å…è®¸ç”¨æˆ·é€šè¿‡å®ä¾‹åŒ–çš„å¯¹è±¡ç›´æ¥è°ƒç”¨æ¨¡å‹ï¼Œå¤„ç†è¾“å…¥æ•°æ®å¹¶è¿”å›æ¨¡å‹çš„è¾“å‡ºç»“æœã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `TritonRemoteModel` çš„ç±»ï¼Œç”¨äºä¸è¿œç¨‹çš„ Triton æ¨ç†æœåŠ¡å™¨æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚è¯¥ç±»çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡æŒ‡å®šçš„ URL å’Œæ¨¡å‹åç§°ï¼Œåˆå§‹åŒ–ä¸ Triton æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¹¶æä¾›ä¸€ä¸ªè°ƒç”¨æ¨¡å‹çš„æ–¹æ³•ã€‚

åœ¨ç±»çš„åˆå§‹åŒ–æ–¹æ³• `__init__` ä¸­ï¼Œé¦–å…ˆä¼šè§£æä¼ å…¥çš„ URLï¼Œå¦‚æœæ²¡æœ‰æä¾›æ¨¡å‹åç§°å’Œé€šä¿¡åè®®ï¼Œåˆ™ä» URL ä¸­æå–è¿™äº›ä¿¡æ¯ã€‚URL çš„æ ¼å¼ä¸º `<scheme>://<netloc>/<endpoint>/<task_name>`ï¼Œå…¶ä¸­ `scheme` è¡¨ç¤ºé€šä¿¡åè®®ï¼ˆå¦‚ HTTP æˆ– gRPCï¼‰ï¼Œ`netloc` æ˜¯æœåŠ¡å™¨åœ°å€ï¼Œ`endpoint` æ˜¯æ¨¡å‹åç§°ã€‚

æ ¹æ®é€šä¿¡åè®®çš„ä¸åŒï¼Œç¨‹åºä¼šå¯¼å…¥ç›¸åº”çš„ Triton å®¢æˆ·ç«¯åº“ï¼ˆHTTP æˆ– gRPCï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª Triton å®¢æˆ·ç«¯å®ä¾‹ã€‚æ¥ç€ï¼Œç¨‹åºä¼šè·å–æŒ‡å®šæ¨¡å‹çš„é…ç½®ï¼Œå¹¶å°†è¾“å‡ºåç§°æŒ‰å­—æ¯é¡ºåºæ’åºã€‚ç„¶åï¼Œç¨‹åºä¼šå®šä¹‰æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬è¾“å…¥å’Œè¾“å‡ºçš„åç§°ã€æ•°æ®ç±»å‹ç­‰ã€‚æ•°æ®ç±»å‹ä¼šè¢«æ˜ å°„åˆ° NumPy æ•°æ®ç±»å‹ï¼Œä»¥ä¾¿åç»­å¤„ç†ã€‚

ç±»ä¸­è¿˜å®šä¹‰äº† `__call__` æ–¹æ³•ï¼Œä½¿å¾—å®ä¾‹å¯ä»¥åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ª NumPy æ•°ç»„ä½œä¸ºè¾“å…¥ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º Triton å®¢æˆ·ç«¯æ‰€éœ€çš„æ ¼å¼ã€‚å¯¹äºæ¯ä¸ªè¾“å…¥ï¼Œç¨‹åºä¼šæ£€æŸ¥å…¶æ•°æ®ç±»å‹æ˜¯å¦ä¸æ¨¡å‹è¦æ±‚çš„è¾“å…¥æ ¼å¼ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ™è¿›è¡Œç±»å‹è½¬æ¢ã€‚ç„¶åï¼Œç¨‹åºä¼šåˆ›å»ºè¾“å…¥å¯¹è±¡ï¼Œå¹¶å°†æ•°æ®è®¾ç½®åˆ°è¿™äº›å¯¹è±¡ä¸­ã€‚

åœ¨å‡†å¤‡å¥½è¾“å…¥åï¼Œç¨‹åºä¼šåˆ›å»ºè¾“å‡ºè¯·æ±‚å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ Triton å®¢æˆ·ç«¯çš„æ¨ç†æ–¹æ³•ï¼Œä¼ å…¥æ¨¡å‹åç§°ã€è¾“å…¥å’Œè¾“å‡ºä¿¡æ¯ã€‚æœ€åï¼Œæ–¹æ³•ä¼šè¿”å›æ¨¡å‹çš„è¾“å‡ºç»“æœï¼Œè¿™äº›ç»“æœä¼šè¢«è½¬æ¢ä¸ºåŸå§‹è¾“å…¥æ•°æ®çš„ç±»å‹ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç±»æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥ä¸ Triton æ¨ç†æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œç®€åŒ–äº†æ¨¡å‹æ¨ç†çš„è¿‡ç¨‹ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# å®ä¾‹åŒ–å¹¶è¿è¡Œåº”ç”¨
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬å

    # è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†åŠæ³¨é‡Šè¯´æ˜ï¼š

1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **`run_script` å‡½æ•°**ï¼š
   - åŠŸèƒ½ï¼šä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - å‚æ•°ï¼š`script_path`ï¼Œè¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚
   - è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œæ„å»ºå‘½ä»¤å¹¶æ‰§è¡Œã€‚
   - ä½¿ç”¨ `subprocess.run` æ¥æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºéƒ¨åˆ†**ï¼š
   - å½“è„šæœ¬ä½œä¸ºä¸»ç¨‹åºè¿è¡Œæ—¶ï¼ŒæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼ˆè¿™é‡Œæ˜¯ `web.py`ï¼‰ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯é€šè¿‡ Streamlit æ¥å¯åŠ¨ä¸€ä¸ª Web åº”ç”¨ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ã€‚å…¶ä¸­ï¼Œ`sys` æ¨¡å—ç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ï¼Œ`os` æ¨¡å—æä¾›äº†ä¸æ“ä½œç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ï¼Œè€Œ `subprocess` æ¨¡å—åˆ™ç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

æ¥ç€ï¼Œç¨‹åºä» `QtFusion.path` æ¨¡å—ä¸­å¯¼å…¥äº† `abs_path` å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå‚æ•° `script_path`ï¼Œç”¨äºæ¥æ”¶è¦è¿è¡Œçš„è„šæœ¬çš„è·¯å¾„ã€‚å‡½æ•°å†…éƒ¨é¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™é€šè¿‡ `sys.executable` å®ç°ã€‚ç„¶åï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit run` å‘½ä»¤æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ã€‚å¦‚æœå‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ä¸ä¸º 0ï¼Œè¡¨ç¤ºè„šæœ¬è¿è¡Œå‡ºé”™ï¼Œç¨‹åºä¼šæ‰“å°å‡ºç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œç¨‹åºé€šè¿‡ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥æ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™é‡ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œè°ƒç”¨ `abs_path` å‡½æ•°è·å– `web.py` çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ `run_script` å‡½æ•°è¿›è¡Œæ‰§è¡Œã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ä¸»è¦ç›®çš„æ˜¯æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œé€šè¿‡å½“å‰çš„ Python ç¯å¢ƒæ¥å¯åŠ¨ä¸€ä¸ªåŸºäº Streamlit çš„ Web åº”ç”¨ã€‚

#### 11.4 code\ultralytics\solutions\speed_estimation.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“
from collections import defaultdict
from time import time
import cv2
import numpy as np
from ultralytics.utils.checks import check_imshow
from ultralytics.utils.plotting import Annotator, colors

class SpeedEstimator:
    """ç”¨äºå®æ—¶è§†é¢‘æµä¸­åŸºäºç‰©ä½“è½¨è¿¹ä¼°è®¡é€Ÿåº¦çš„ç±»ã€‚"""

    def __init__(self):
        """åˆå§‹åŒ–é€Ÿåº¦ä¼°è®¡å™¨ç±»ï¼Œè®¾ç½®é»˜è®¤å€¼ã€‚"""
        # å›¾åƒå’Œå¯è§†åŒ–ä¿¡æ¯
        self.im0 = None  # å½“å‰å¸§å›¾åƒ
        self.annotator = None  # æ³¨é‡Šå™¨ï¼Œç”¨äºç»˜åˆ¶
        self.view_img = False  # æ˜¯å¦æ˜¾ç¤ºå›¾åƒ

        # é€Ÿåº¦è®¡ç®—åŒºåŸŸä¿¡æ¯
        self.reg_pts = [(20, 400), (1260, 400)]  # é€Ÿåº¦è®¡ç®—åŒºåŸŸçš„ä¸¤ä¸ªç‚¹
        self.region_thickness = 3  # åŒºåŸŸçš„åšåº¦

        # é¢„æµ‹å’Œè·Ÿè¸ªä¿¡æ¯
        self.clss = None  # ç‰©ä½“ç±»åˆ«
        self.boxes = None  # ç‰©ä½“è¾¹ç•Œæ¡†
        self.trk_ids = None  # è·Ÿè¸ªID
        self.trk_history = defaultdict(list)  # è·Ÿè¸ªå†å²

        # é€Ÿåº¦ä¼°è®¡ä¿¡æ¯
        self.current_time = 0  # å½“å‰æ—¶é—´
        self.dist_data = {}  # å­˜å‚¨é€Ÿåº¦æ•°æ®
        self.trk_previous_times = {}  # å­˜å‚¨ä¸Šæ¬¡æ—¶é—´
        self.trk_previous_points = {}  # å­˜å‚¨ä¸Šæ¬¡ä½ç½®

        # æ£€æŸ¥ç¯å¢ƒæ˜¯å¦æ”¯æŒimshow
        self.env_check = check_imshow(warn=True)

    def extract_tracks(self, tracks):
        """ä»è·Ÿè¸ªæ•°æ®ä¸­æå–ç»“æœã€‚"""
        self.boxes = tracks[0].boxes.xyxy.cpu()  # æå–è¾¹ç•Œæ¡†
        self.clss = tracks[0].boxes.cls.cpu().tolist()  # æå–ç±»åˆ«
        self.trk_ids = tracks[0].boxes.id.int().cpu().tolist()  # æå–è·Ÿè¸ªID

    def store_track_info(self, track_id, box):
        """å­˜å‚¨è·Ÿè¸ªæ•°æ®ã€‚"""
        track = self.trk_history[track_id]  # è·å–å½“å‰è·Ÿè¸ªIDçš„å†å²è½¨è¿¹
        # è®¡ç®—è¾¹ç•Œæ¡†ä¸­å¿ƒç‚¹
        bbox_center = (float((box[0] + box[2]) / 2), float((box[1] + box[3]) / 2))
        track.append(bbox_center)  # å°†ä¸­å¿ƒç‚¹æ·»åŠ åˆ°è½¨è¿¹ä¸­

        # é™åˆ¶è½¨è¿¹é•¿åº¦ä¸º30
        if len(track) > 30:
            track.pop(0)

        # å°†è½¨è¿¹ç‚¹è½¬æ¢ä¸ºnumpyæ•°ç»„
        self.trk_pts = np.hstack(track).astype(np.int32).reshape((-1, 1, 2))
        return track

    def calculate_speed(self, trk_id, track):
        """è®¡ç®—ç‰©ä½“é€Ÿåº¦ã€‚"""
        # æ£€æŸ¥ç‰©ä½“æ˜¯å¦åœ¨é€Ÿåº¦è®¡ç®—åŒºåŸŸå†…
        if not self.reg_pts[0][0] < track[-1][0] < self.reg_pts[1][0]:
            return

        # åˆ¤æ–­ç‰©ä½“çš„è¿åŠ¨æ–¹å‘
        if self.reg_pts[1][1] - 10 < track[-1][1] < self.reg_pts[1][1] + 10:
            direction = "known"
        elif self.reg_pts[0][1] - 10 < track[-1][1] < self.reg_pts[0][1] + 10:
            direction = "known"
        else:
            direction = "unknown"

        # è®¡ç®—é€Ÿåº¦
        if self.trk_previous_times[trk_id] != 0 and direction != "unknown":
            time_difference = time() - self.trk_previous_times[trk_id]  # æ—¶é—´å·®
            if time_difference > 0:
                dist_difference = np.abs(track[-1][1] - self.trk_previous_points[trk_id][1])  # è·ç¦»å·®
                speed = dist_difference / time_difference  # é€Ÿåº¦è®¡ç®—
                self.dist_data[trk_id] = speed  # å­˜å‚¨é€Ÿåº¦æ•°æ®

        # æ›´æ–°ä¸Šæ¬¡æ—¶é—´å’Œä½ç½®
        self.trk_previous_times[trk_id] = time()
        self.trk_previous_points[trk_id] = track[-1]

    def estimate_speed(self, im0, tracks):
        """æ ¹æ®è·Ÿè¸ªæ•°æ®è®¡ç®—ç‰©ä½“é€Ÿåº¦ã€‚"""
        self.im0 = im0  # è®¾ç½®å½“å‰å¸§å›¾åƒ
        if tracks[0].boxes.id is None:
            return

        self.extract_tracks(tracks)  # æå–è·Ÿè¸ªæ•°æ®
        self.annotator = Annotator(self.im0, line_width=2)  # åˆå§‹åŒ–æ³¨é‡Šå™¨
        self.annotator.draw_region(reg_pts=self.reg_pts, color=(255, 0, 0), thickness=self.region_thickness)  # ç»˜åˆ¶é€Ÿåº¦åŒºåŸŸ

        # éå†æ¯ä¸ªç‰©ä½“ï¼Œå­˜å‚¨ä¿¡æ¯å¹¶è®¡ç®—é€Ÿåº¦
        for box, trk_id, cls in zip(self.boxes, self.trk_ids, self.clss):
            track = self.store_track_info(trk_id, box)  # å­˜å‚¨è·Ÿè¸ªä¿¡æ¯
            self.calculate_speed(trk_id, track)  # è®¡ç®—é€Ÿåº¦

        return im0  # è¿”å›å¤„ç†åçš„å›¾åƒ

if __name__ == "__main__":
    SpeedEstimator()  # å®ä¾‹åŒ–é€Ÿåº¦ä¼°è®¡å™¨
```

### ä»£ç è¯´æ˜ï¼š
1. **ç±» `SpeedEstimator`**ï¼šç”¨äºå®æ—¶è§†é¢‘æµä¸­ç‰©ä½“é€Ÿåº¦çš„ä¼°è®¡ã€‚
2. **åˆå§‹åŒ–æ–¹æ³• `__init__`**ï¼šè®¾ç½®é»˜è®¤å‚æ•°ï¼ŒåŒ…æ‹¬å›¾åƒã€åŒºåŸŸã€è·Ÿè¸ªä¿¡æ¯å’Œé€Ÿåº¦æ•°æ®ç­‰ã€‚
3. **æ–¹æ³• `extract_tracks`**ï¼šä»è·Ÿè¸ªæ•°æ®ä¸­æå–è¾¹ç•Œæ¡†ã€ç±»åˆ«å’Œè·Ÿè¸ªIDã€‚
4. **æ–¹æ³• `store_track_info`**ï¼šå­˜å‚¨æ¯ä¸ªç‰©ä½“çš„è·Ÿè¸ªä¿¡æ¯ï¼Œè®¡ç®—å¹¶æ›´æ–°ç‰©ä½“çš„ä¸­å¿ƒç‚¹ã€‚
5. **æ–¹æ³• `calculate_speed`**ï¼šæ ¹æ®ç‰©ä½“çš„è½¨è¿¹è®¡ç®—é€Ÿåº¦ï¼Œåˆ¤æ–­ç‰©ä½“æ˜¯å¦åœ¨æŒ‡å®šåŒºåŸŸå†…ï¼Œå¹¶è®¡ç®—é€Ÿåº¦ã€‚
6. **æ–¹æ³• `estimate_speed`**ï¼šä¸»æ–¹æ³•ï¼Œæ ¹æ®è·Ÿè¸ªæ•°æ®å’Œå½“å‰å¸§å›¾åƒä¼°è®¡ç‰©ä½“é€Ÿåº¦ï¼Œå¹¶è¿”å›å¤„ç†åçš„å›¾åƒã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `SpeedEstimator` çš„ç±»ï¼Œç”¨äºåœ¨å®æ—¶è§†é¢‘æµä¸­ä¼°è®¡ç‰©ä½“çš„é€Ÿåº¦ã€‚ç¨‹åºä½¿ç”¨äº† OpenCV å’Œ NumPy åº“ï¼Œå¹¶ç»“åˆäº† Ultralytics YOLO çš„ä¸€äº›å·¥å…·æ¥å¤„ç†å›¾åƒå’Œè·Ÿè¸ªç‰©ä½“ã€‚

åœ¨ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œå®šä¹‰äº†ä¸€äº›ç”¨äºé€Ÿåº¦ä¼°è®¡çš„åŸºæœ¬å‚æ•°ï¼ŒåŒ…æ‹¬å›¾åƒä¿¡æ¯ã€åŒºåŸŸä¿¡æ¯ã€é¢„æµ‹å’Œè·Ÿè¸ªä¿¡æ¯ï¼Œä»¥åŠé€Ÿåº¦ä¼°è®¡æ‰€éœ€çš„å„ç§æ•°æ®ç»“æ„ã€‚åŒºåŸŸä¿¡æ¯åŒ…æ‹¬å®šä¹‰é€Ÿåº¦è®¡ç®—åŒºåŸŸçš„ä¸¤ä¸ªç‚¹ï¼Œä»¥åŠåŒºåŸŸçš„åšåº¦ã€‚ç¨‹åºè¿˜æ£€æŸ¥äº†ç¯å¢ƒæ˜¯å¦æ”¯æŒå›¾åƒæ˜¾ç¤ºã€‚

`set_args` æ–¹æ³•ç”¨äºé…ç½®é€Ÿåº¦ä¼°è®¡å’Œæ˜¾ç¤ºå‚æ•°ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰åŒºåŸŸç‚¹ã€ç±»åã€å›¾åƒæ˜¾ç¤ºæ ‡å¿—ã€çº¿æ¡åšåº¦ç­‰ã€‚`extract_tracks` æ–¹æ³•ä»è·Ÿè¸ªæ•°æ®ä¸­æå–å‡ºè¾¹ç•Œæ¡†ã€ç±»åˆ«å’Œè·Ÿè¸ª IDã€‚

`store_track_info` æ–¹æ³•ç”¨äºå­˜å‚¨è·Ÿè¸ªæ•°æ®ï¼ŒåŒ…æ‹¬è®¡ç®—è¾¹ç•Œæ¡†ä¸­å¿ƒå¹¶å°†å…¶æ·»åŠ åˆ°è·Ÿè¸ªå†å²ä¸­ã€‚è‹¥è·Ÿè¸ªå†å²è¶…è¿‡30ä¸ªç‚¹ï¼Œåˆ™ä¼šç§»é™¤æœ€æ—§çš„ç‚¹ã€‚`plot_box_and_track` æ–¹æ³•è´Ÿè´£åœ¨å›¾åƒä¸Šç»˜åˆ¶è¾¹ç•Œæ¡†å’Œè·Ÿè¸ªè·¯å¾„ï¼Œå¹¶æ ‡æ³¨é€Ÿåº¦ä¿¡æ¯ã€‚

`calculate_speed` æ–¹æ³•ç”¨äºè®¡ç®—ç‰©ä½“çš„é€Ÿåº¦ã€‚å®ƒæ ¹æ®ç‰©ä½“çš„æœ€åä½ç½®å’Œä¹‹å‰çš„ä½ç½®è®¡ç®—æ—¶é—´å·®å’Œè·ç¦»å·®ï¼Œä»è€Œå¾—å‡ºé€Ÿåº¦ã€‚å¦‚æœç‰©ä½“åœ¨æŒ‡å®šçš„åŒºåŸŸå†…ç§»åŠ¨ï¼Œä¸”æ–¹å‘å·²çŸ¥ï¼Œåˆ™ä¼šæ›´æ–°é€Ÿåº¦æ•°æ®ã€‚

`estimate_speed` æ–¹æ³•æ˜¯ä¸»è¦çš„å¤„ç†å‡½æ•°ï¼Œå®ƒæ¥æ”¶å›¾åƒå’Œè·Ÿè¸ªæ•°æ®ï¼Œæå–è·Ÿè¸ªä¿¡æ¯ï¼Œç»˜åˆ¶åŒºåŸŸå’Œè¾¹ç•Œæ¡†ï¼Œå¹¶è®¡ç®—é€Ÿåº¦ã€‚è‹¥ç¯å¢ƒæ”¯æŒå›¾åƒæ˜¾ç¤ºï¼Œç¨‹åºä¼šæ˜¾ç¤ºå¤„ç†åçš„å›¾åƒã€‚

æœ€åï¼Œ`display_frames` æ–¹æ³•ç”¨äºæ˜¾ç¤ºå›¾åƒï¼Œå¹¶å…è®¸ç”¨æˆ·é€šè¿‡æŒ‰ä¸‹â€œqâ€é”®é€€å‡ºæ˜¾ç¤ºã€‚

æ•´ä½“è€Œè¨€ï¼Œè¿™ä¸ªç¨‹åºé€šè¿‡å®æ—¶è·Ÿè¸ªç‰©ä½“å¹¶è®¡ç®—å…¶é€Ÿåº¦ï¼Œä¸ºè§†é¢‘ç›‘æ§å’Œäº¤é€šåˆ†æç­‰åº”ç”¨æä¾›äº†åŸºç¡€åŠŸèƒ½ã€‚

#### 11.5 code\ultralytics\utils\callbacks\comet.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# å¯¼å…¥å¿…è¦çš„åº“
from ultralytics.utils import LOGGER, RANK, SETTINGS, TESTS_RUNNING, ops
import os
from pathlib import Path

# å®šä¹‰æ”¯æŒçš„ä»»åŠ¡ç±»å‹
COMET_SUPPORTED_TASKS = ["detect"]

# å®šä¹‰è¯„ä¼°å’Œæ ‡ç­¾å›¾çš„åç§°
EVALUATION_PLOT_NAMES = "F1_curve", "P_curve", "R_curve", "PR_curve", "confusion_matrix"
LABEL_PLOT_NAMES = "labels", "labels_correlogram"

# åˆå§‹åŒ–å›¾åƒé¢„æµ‹è®¡æ•°
_comet_image_prediction_count = 0

def _get_comet_mode():
    """è·å–ç¯å¢ƒå˜é‡ä¸­è®¾ç½®çš„Cometæ¨¡å¼ï¼Œé»˜è®¤ä¸º'online'ã€‚"""
    return os.getenv("COMET_MODE", "online")

def _create_experiment(args):
    """åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ç¡®ä¿å®éªŒå¯¹è±¡ä»…åœ¨å•ä¸ªè¿›ç¨‹ä¸­åˆ›å»ºã€‚"""
    if RANK not in (-1, 0):  # ä»…åœ¨ä¸»è¿›ç¨‹ä¸­åˆ›å»ºå®éªŒ
        return
    try:
        comet_mode = _get_comet_mode()
        _project_name = os.getenv("COMET_PROJECT_NAME", args.project)
        experiment = comet_ml.OfflineExperiment(project_name=_project_name) if comet_mode == "offline" else comet_ml.Experiment(project_name=_project_name)
        experiment.log_parameters(vars(args))  # è®°å½•å‚æ•°
    except Exception as e:
        LOGGER.warning(f"WARNING âš ï¸ Cometå®‰è£…ä½†æœªæ­£ç¡®åˆå§‹åŒ–ï¼Œæœªè®°å½•æ­¤è¿è¡Œã€‚{e}")

def _log_images(experiment, image_paths, curr_step, annotations=None):
    """å°†å›¾åƒåŠå…¶æ³¨é‡Šè®°å½•åˆ°å®éªŒä¸­ã€‚"""
    if annotations:
        for image_path, annotation in zip(image_paths, annotations):
            experiment.log_image(image_path, name=image_path.stem, step=curr_step, annotations=annotation)
    else:
        for image_path in image_paths:
            experiment.log_image(image_path, name=image_path.stem, step=curr_step)

def on_train_epoch_end(trainer):
    """åœ¨è®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•æŒ‡æ ‡å’Œä¿å­˜æ‰¹æ¬¡å›¾åƒã€‚"""
    experiment = comet_ml.get_global_experiment()
    if not experiment:
        return

    curr_epoch = trainer.epoch + 1  # å½“å‰å‘¨æœŸ
    curr_step = curr_epoch * (len(trainer.train_loader.dataset) // trainer.batch_size)  # å½“å‰æ­¥éª¤

    # è®°å½•è®­ç»ƒæŸå¤±
    experiment.log_metrics(trainer.label_loss_items(trainer.tloss, prefix="train"), step=curr_step, epoch=curr_epoch)

    # åœ¨ç¬¬ä¸€ä¸ªå‘¨æœŸç»“æŸæ—¶ä¿å­˜è®­ç»ƒæ‰¹æ¬¡å›¾åƒ
    if curr_epoch == 1:
        _log_images(experiment, trainer.save_dir.glob("train_batch*.jpg"), curr_step)

def on_train_end(trainer):
    """åœ¨è®­ç»ƒç»“æŸæ—¶æ‰§è¡Œæ“ä½œã€‚"""
    experiment = comet_ml.get_global_experiment()
    if not experiment:
        return

    curr_epoch = trainer.epoch + 1
    curr_step = curr_epoch * (len(trainer.train_loader.dataset) // trainer.batch_size)

    # è®°å½•æ¨¡å‹å’Œæ··æ·†çŸ©é˜µ
    _log_model(experiment, trainer)
    _log_confusion_matrix(experiment, trainer, curr_step, curr_epoch)
    experiment.end()  # ç»“æŸå®éªŒ

# å®šä¹‰å›è°ƒå‡½æ•°
callbacks = {
    "on_train_epoch_end": on_train_epoch_end,
    "on_train_end": on_train_end,
} if comet_ml else {}
```

### ä»£ç è¯´æ˜
1. **å¯¼å…¥åº“**ï¼šå¯¼å…¥äº†æ‰€éœ€çš„åº“ï¼ŒåŒ…æ‹¬Ultralyticsçš„å·¥å…·å’Œæ ‡å‡†åº“ä¸­çš„oså’ŒPathã€‚
2. **å¸¸é‡å®šä¹‰**ï¼šå®šä¹‰äº†æ”¯æŒçš„ä»»åŠ¡ç±»å‹å’Œè¯„ä¼°å›¾çš„åç§°ã€‚
3. **å®éªŒåˆ›å»º**ï¼š`_create_experiment`å‡½æ•°ç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­åªåœ¨ä¸»è¿›ç¨‹ä¸­åˆ›å»ºCometå®éªŒï¼Œå¹¶è®°å½•å‚æ•°ã€‚
4. **å›¾åƒè®°å½•**ï¼š`_log_images`å‡½æ•°å°†å›¾åƒåŠå…¶æ³¨é‡Šè®°å½•åˆ°Cometå®éªŒä¸­ã€‚
5. **è®­ç»ƒå‘¨æœŸç»“æŸ**ï¼š`on_train_epoch_end`å‡½æ•°åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŸå¤±ï¼Œå¹¶åœ¨ç¬¬ä¸€ä¸ªå‘¨æœŸç»“æŸæ—¶ä¿å­˜è®­ç»ƒæ‰¹æ¬¡å›¾åƒã€‚
6. **è®­ç»ƒç»“æŸ**ï¼š`on_train_end`å‡½æ•°åœ¨è®­ç»ƒç»“æŸæ—¶è®°å½•æ¨¡å‹å’Œæ··æ·†çŸ©é˜µï¼Œå¹¶ç»“æŸCometå®éªŒã€‚
7. **å›è°ƒå‡½æ•°**ï¼šå®šä¹‰äº†åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚

è¿™äº›æ ¸å¿ƒéƒ¨åˆ†å®ç°äº†ä¸Comet.mlçš„é›†æˆï¼Œå…è®¸åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è®°å½•æ¨¡å‹å‚æ•°ã€æŸå¤±ã€å›¾åƒå’Œæ··æ·†çŸ©é˜µç­‰ä¿¡æ¯ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `comet.py` æ˜¯ Ultralytics YOLO é¡¹ç›®ä¸­çš„ä¸€ä¸ªå›è°ƒæ¨¡å—ï¼Œä¸»è¦ç”¨äºä¸ Comet.ml è¿›è¡Œé›†æˆï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è®°å½•å’Œå¯è§†åŒ–æ¨¡å‹çš„è®­ç»ƒå’Œè¯„ä¼°ç»“æœã€‚ä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„è¯¦ç»†è¯´æ˜ã€‚

é¦–å…ˆï¼Œä»£ç å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„æ¨¡å—å’Œåº“ï¼ŒåŒ…æ‹¬æ—¥å¿—è®°å½•å™¨ã€è®¾ç½®ã€æ“ä½œå‡½æ•°ç­‰ã€‚å®ƒè¿˜æ£€æŸ¥æ˜¯å¦åœ¨æµ‹è¯•æ¨¡å¼ä¸‹è¿è¡Œï¼Œå¹¶ç¡®ä¿ Comet é›†æˆå·²å¯ç”¨ã€‚å¦‚æœ Comet.ml åº“æœªæ­£ç¡®å¯¼å…¥æˆ–æœªå¯ç”¨ï¼Œåˆ™ä¼šå°† `comet_ml` è®¾ç½®ä¸º `None`ã€‚

æ¥ä¸‹æ¥ï¼Œä»£ç å®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ç”¨äºè·å–ç¯å¢ƒå˜é‡ä¸­çš„é…ç½®å‚æ•°ï¼Œå¦‚ Comet çš„æ¨¡å¼ã€æ¨¡å‹åç§°ã€è¯„ä¼°æ‰¹æ¬¡æ—¥å¿—è®°å½•é—´éš”ã€æœ€å¤§å›¾åƒé¢„æµ‹æ•°é‡ç­‰ã€‚è¿™äº›å‚æ•°å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ï¼Œä»¥ä¾¿çµæ´»è°ƒæ•´ã€‚

ä»£ç ä¸­è¿˜å®šä¹‰äº†ä¸€äº›ç”¨äºå¤„ç†å’Œæ ¼å¼åŒ–æ•°æ®çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œ`_scale_bounding_box_to_original_image_shape` å‡½æ•°ç”¨äºå°† YOLOv8 åœ¨è®­ç»ƒä¸­ç¼©æ”¾çš„è¾¹ç•Œæ¡†æ ‡ç­¾é‡æ–°è°ƒæ•´ä¸ºåŸå§‹å›¾åƒçš„å½¢çŠ¶ã€‚`_format_ground_truth_annotations_for_detection` å’Œ `_format_prediction_annotations_for_detection` å‡½æ•°åˆ™ç”¨äºæ ¼å¼åŒ–çœŸå®æ ‡ç­¾å’Œæ¨¡å‹é¢„æµ‹ç»“æœï¼Œä»¥ä¾¿äºåç»­çš„è®°å½•å’Œå¯è§†åŒ–ã€‚

åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä»£ç ä¼šè®°å½•æ··æ·†çŸ©é˜µã€å›¾åƒé¢„æµ‹å’Œè¯„ä¼°å›¾è¡¨ç­‰ä¿¡æ¯ã€‚`_log_confusion_matrix` å‡½æ•°è´Ÿè´£å°†æ··æ·†çŸ©é˜µè®°å½•åˆ° Comet å®éªŒä¸­ï¼Œ`_log_images` å‡½æ•°åˆ™ç”¨äºè®°å½•å›¾åƒåŠå…¶æ³¨é‡Šã€‚`_log_image_predictions` å‡½æ•°ä¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è®°å½•æ¯ä¸ªå›¾åƒçš„é¢„æµ‹ç»“æœã€‚

æ–‡ä»¶çš„æœ€åéƒ¨åˆ†å®šä¹‰äº†ä¸€äº›å›è°ƒå‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¼šåœ¨ç‰¹å®šçš„è®­ç»ƒé˜¶æ®µè¢«è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œ`on_pretrain_routine_start` ä¼šåœ¨é¢„è®­ç»ƒå¼€å§‹æ—¶åˆ›å»ºæˆ–æ¢å¤ Comet å®éªŒï¼Œ`on_train_epoch_end` ä¼šåœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸç»“æŸæ—¶è®°å½•è®­ç»ƒæŒ‡æ ‡å’Œä¿å­˜æ‰¹æ¬¡å›¾åƒï¼Œ`on_fit_epoch_end` åˆ™ä¼šåœ¨æ¯ä¸ªé€‚åº”å‘¨æœŸç»“æŸæ—¶è®°å½•æ¨¡å‹èµ„äº§å’Œå…¶ä»–æŒ‡æ ‡ï¼Œ`on_train_end` ä¼šåœ¨è®­ç»ƒç»“æŸæ—¶æ‰§è¡Œä¸€äº›æ¸…ç†æ“ä½œã€‚

æœ€åï¼Œæ‰€æœ‰çš„å›è°ƒå‡½æ•°è¢«æ±‡æ€»åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œåªæœ‰åœ¨ Comet.ml å¯ç”¨çš„æƒ…å†µä¸‹æ‰ä¼šè¢«ä½¿ç”¨ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ä»£ç åœ¨æ²¡æœ‰ Comet.ml çš„æƒ…å†µä¸‹ä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè€Œä¸ä¼šå¼•å‘é”™è¯¯ã€‚æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ¨¡å—çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å¢å¼º YOLO æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„å¯è§†åŒ–å’Œç›‘æ§èƒ½åŠ›ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œä¼˜åŒ–æ¨¡å‹æ€§èƒ½ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦ä¿ç•™äº†ä¸YOLOæ¨¡å‹è®­ç»ƒç›¸å…³çš„åŠŸèƒ½ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    åŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerç±»ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): åŒ…å«å›¾åƒçš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œå¯ä»¥æ˜¯'train'æˆ–'val'ï¼Œç”¨äºä¸åŒçš„æ•°æ®å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œä»…ç”¨äº'rect'æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­åˆå§‹åŒ–æ•°æ®é›†
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # æ ¹æ®æ¨¡å¼è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©æ–°çš„å›¾åƒå¤§å°
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è°ƒæ•´å›¾åƒå¤§å°
            batch["img"] = imgs
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›YOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )

    def plot_metrics(self):
        """ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ã€‚"""
        plot_results(file=self.csv, on_plot=self.on_plot)  # ä¿å­˜ç»“æœå›¾
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **build_dataset**: æ„å»ºYOLOæ•°æ®é›†ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®å¢å¼ºã€‚
2. **get_dataloader**: æ„å»ºæ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒåˆ†å¸ƒå¼è®­ç»ƒï¼Œç¡®ä¿æ•°æ®åœ¨è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±ã€‚
3. **preprocess_batch**: å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¤šå°ºåº¦è°ƒæ•´ã€‚
4. **get_model**: è¿”å›YOLOæ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
5. **plot_training_samples**: ç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ³¨é‡Šï¼Œä¾¿äºå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ã€‚
6. **plot_metrics**: ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶è®­ç»ƒæŒ‡æ ‡ï¼Œå¸®åŠ©åˆ†ææ¨¡å‹æ€§èƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒ YOLOï¼ˆYou Only Look Onceï¼‰ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„å®ç°ï¼Œç»§æ‰¿è‡ª `BaseTrainer` ç±»ã€‚ç¨‹åºçš„ä¸»è¦åŠŸèƒ½æ˜¯æ„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€é¢„å¤„ç†å›¾åƒã€è®¾ç½®æ¨¡å‹å±æ€§ã€è·å–æ¨¡å‹ã€éªŒè¯æ¨¡å‹ã€è®°å½•æŸå¤±ã€æ˜¾ç¤ºè®­ç»ƒè¿›åº¦ã€ç»˜åˆ¶è®­ç»ƒæ ·æœ¬å’ŒæŒ‡æ ‡ç­‰ã€‚

é¦–å…ˆï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“å’Œæ¨¡å—ï¼ŒåŒ…æ‹¬æ•°å­¦è¿ç®—ã€éšæœºæ•°ç”Ÿæˆã€æ·±åº¦å­¦ä¹ æ¡†æ¶ PyTorch ç›¸å…³çš„æ¨¡å—ï¼Œä»¥åŠ YOLO ç›¸å…³çš„å·¥å…·å’Œæ•°æ®å¤„ç†å‡½æ•°ã€‚æ¥ç€å®šä¹‰äº† `DetectionTrainer` ç±»ï¼Œè¯¥ç±»ä¸“é—¨ç”¨äºåŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒã€‚

åœ¨ `build_dataset` æ–¹æ³•ä¸­ï¼Œç¨‹åºæ ¹æ®ç»™å®šçš„å›¾åƒè·¯å¾„å’Œæ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰æ„å»º YOLO æ•°æ®é›†ã€‚è¯¥æ–¹æ³•ä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…ï¼ˆstrideï¼‰æ¥è°ƒæ•´æ•°æ®é›†çš„æ„å»ºå‚æ•°ã€‚

`get_dataloader` æ–¹æ³•ç”¨äºæ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ï¼Œç¡®ä¿åœ¨åˆ†å¸ƒå¼è®­ç»ƒæ—¶åªåˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†ï¼Œå¹¶æ ¹æ®æ¨¡å¼å†³å®šæ˜¯å¦æ‰“ä¹±æ•°æ®é¡ºåºã€‚

`preprocess_batch` æ–¹æ³•è´Ÿè´£å¯¹ä¸€æ‰¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°é€‚å½“çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚æ­¤å¤„è¿˜æ”¯æŒå¤šå°ºåº¦è®­ç»ƒï¼Œå³éšæœºé€‰æ‹©å›¾åƒçš„å¤§å°è¿›è¡Œè®­ç»ƒï¼Œä»¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ï¼Œä»¥ç¡®ä¿æ¨¡å‹èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å’Œåˆ†ç±»ç›®æ ‡ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºéªŒè¯ YOLO æ¨¡å‹çš„éªŒè¯å™¨ï¼Œèƒ½å¤Ÿè®¡ç®—å’Œè®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹çš„å­—å…¸ï¼Œä¾¿äºåç»­çš„æŸå¤±åˆ†æã€‚

`progress_string` æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„è½®æ¬¡ã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œå¸®åŠ©å¯è§†åŒ–è®­ç»ƒæ•°æ®çš„è´¨é‡ã€‚

æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œç”Ÿæˆå¸¦æ ‡ç­¾çš„è®­ç»ƒå›¾ï¼Œè¿›ä¸€æ­¥åˆ†ææ¨¡å‹çš„æ€§èƒ½ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªå®Œæ•´çš„ YOLO æ¨¡å‹è®­ç»ƒæ¡†æ¶ï¼Œæä¾›äº†ä»æ•°æ®åŠ è½½åˆ°æ¨¡å‹è®­ç»ƒå’ŒéªŒè¯çš„å…¨æµç¨‹åŠŸèƒ½ï¼Œé€‚åˆç”¨äºç›®æ ‡æ£€æµ‹ä»»åŠ¡çš„å¼€å‘å’Œç ”ç©¶ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº YOLOï¼ˆYou Only Look Onceï¼‰æ¶æ„çš„ç›®æ ‡æ£€æµ‹ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºè®­ç»ƒã€æ¨ç†å’Œè¯„ä¼°æ¨¡å‹ã€‚é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬æ¨¡å‹çš„å®šä¹‰ä¸åŠ è½½ã€æ•°æ®é›†çš„æ„å»ºä¸å¤„ç†ã€è®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†ã€å®æ—¶é€Ÿåº¦ä¼°è®¡ã€ä¸å¤–éƒ¨æœåŠ¡ï¼ˆå¦‚ Triton å’Œ Comet.mlï¼‰çš„é›†æˆç­‰ã€‚æ•´ä½“æ¶æ„ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œç¡®ä¿ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

- **æ¨¡å‹æ¨¡å—**ï¼šå®šä¹‰å’ŒåŠ è½½ä¸åŒç‰ˆæœ¬çš„ YOLO æ¨¡å‹ï¼ˆå¦‚ YOLO-NASã€RTDETR ç­‰ï¼‰ã€‚
- **æ•°æ®å¤„ç†æ¨¡å—**ï¼šè´Ÿè´£æ•°æ®é›†çš„æ„å»ºã€å›¾åƒé¢„å¤„ç†å’Œæ•°æ®åŠ è½½ã€‚
- **è®­ç»ƒæ¨¡å—**ï¼šç®¡ç†è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æŸå¤±è®¡ç®—ã€æ¨¡å‹éªŒè¯å’Œè®­ç»ƒè¿›åº¦çš„å¯è§†åŒ–ã€‚
- **æ¨ç†æ¨¡å—**ï¼šå®ç°æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œæ”¯æŒå®æ—¶é€Ÿåº¦ä¼°è®¡å’Œç»“æœçš„å¯è§†åŒ–ã€‚
- **å›è°ƒæ¨¡å—**ï¼šä¸å¤–éƒ¨æœåŠ¡é›†æˆï¼Œè®°å½•è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ç§æŒ‡æ ‡å’Œå›¾åƒã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                             | åŠŸèƒ½æè¿°                                                                                       |
|--------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| `code/ultralytics/models/nas/model.py`                             | å®šä¹‰ YOLO-NAS æ¨¡å‹ç±»ï¼ŒåŠ è½½é¢„è®­ç»ƒæƒé‡ï¼Œæä¾›æ¨¡å‹ä¿¡æ¯å’Œä»»åŠ¡æ˜ å°„ã€‚                                 |
| `code/ultralytics/utils/triton.py`                                 | å®ç°ä¸ Triton æ¨ç†æœåŠ¡å™¨çš„äº¤äº’ï¼Œæ”¯æŒæ¨¡å‹çš„è¿œç¨‹æ¨ç†ã€‚                                         |
| `ui.py`                                                            | å¯åŠ¨ä¸€ä¸ªåŸºäº Streamlit çš„ Web åº”ç”¨ï¼Œæä¾›ç”¨æˆ·ç•Œé¢ä»¥è¿è¡Œæ¨¡å‹ã€‚                                   |
| `code/ultralytics/solutions/speed_estimation.py`                  | å®ç°å®æ—¶é€Ÿåº¦ä¼°è®¡åŠŸèƒ½ï¼Œå¤„ç†è§†é¢‘æµä¸­çš„ç‰©ä½“è·Ÿè¸ªå’Œé€Ÿåº¦è®¡ç®—ã€‚                                     |
| `code/ultralytics/utils/callbacks/comet.py`                       | é›†æˆ Comet.ml è¿›è¡Œè®­ç»ƒè¿‡ç¨‹çš„ç›‘æ§å’Œå¯è§†åŒ–ï¼Œè®°å½•è®­ç»ƒæŒ‡æ ‡å’Œå›¾åƒã€‚                               |
| `train.py`                                                         | è´Ÿè´£è®­ç»ƒ YOLO æ¨¡å‹ï¼Œæ„å»ºæ•°æ®é›†ã€åŠ è½½æ•°æ®ã€è®¾ç½®æ¨¡å‹å±æ€§ã€è®°å½•æŸå¤±å’Œå¯è§†åŒ–è®­ç»ƒè¿›åº¦ã€‚            |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/engine/model.py` | æä¾›æ¨¡å‹çš„åŸºç¡€å®ç°å’Œè®­ç»ƒé€»è¾‘ï¼Œæ”¯æŒå¤šç§ YOLO å˜ä½“ã€‚                                           |
| `code/ultralytics/nn/modules/__init__.py`                         | å®šä¹‰ç¥ç»ç½‘ç»œæ¨¡å—çš„åˆå§‹åŒ–ï¼Œæ•´åˆå„ç±»ç¥ç»ç½‘ç»œç»„ä»¶ã€‚                                               |
| `code/ultralytics/utils/metrics.py`                                | æä¾›ç”¨äºè¯„ä¼°æ¨¡å‹æ€§èƒ½çš„æŒ‡æ ‡è®¡ç®—å‡½æ•°ï¼Œå¦‚ç²¾åº¦ã€å¬å›ç‡ç­‰ã€‚                                        |
| `code/ultralytics/models/rtdetr/predict.py`                       | å®ç° RTDETR æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œå¤„ç†è¾“å…¥æ•°æ®å¹¶è¿”å›é¢„æµ‹ç»“æœã€‚                                     |
| `code/ultralytics/models/yolo/obb/__init__.py`                   | åˆå§‹åŒ– YOLO çš„ OBBï¼ˆOrientation Bounding Boxï¼‰æ¨¡å—ï¼Œæ”¯æŒæ–¹å‘æ€§è¾¹ç•Œæ¡†çš„å¤„ç†ã€‚                  |
| `code/ultralytics/nn/autobackend.py`                              | è‡ªåŠ¨é€‰æ‹©é€‚åˆçš„åç«¯ï¼ˆå¦‚ PyTorchã€TensorFlowï¼‰ä»¥æ”¯æŒæ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†ã€‚                          |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰/ultralytics/utils/patches.py` | æä¾›å¯¹ YOLO æ¨¡å‹çš„è¡¥ä¸å’Œæ”¹è¿›åŠŸèƒ½ï¼Œæ”¯æŒæ¨¡å‹çš„æ‰©å±•å’Œä¼˜åŒ–ã€‚                                     |

è¿™ä¸ªè¡¨æ ¼æ•´ç†äº†é¡¹ç›®ä¸­å„ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œä¾¿äºç†è§£æ•´ä¸ªç³»ç»Ÿçš„æ¶æ„å’Œå„ä¸ªæ¨¡å—ä¹‹é—´çš„å…³ç³»ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuZlJps](https://mbd.pub/o/bread/ZpuZlJps)